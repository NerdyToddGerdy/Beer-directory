<!DOCTYPE html>
<html ng-app='BreweryApp'>
<head>
  <meta charset="utf-8">
  <title></title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-animate.min.js" charset="utf-8"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-cookies.min.js"></script>
  <script src="js/global.js" charset="utf-8"></script>
  <script src="js/app.js" charset="utf-8"></script>
  <script src="js/users.js" charset="utf-8"></script>
  <script src="js/map.js" charset="utf-8"></script>
  <script src="js/brewerydb.js" charset="utf-8"></script>
  <script src="js/beerdb.js" charset="utf-8"></script>
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <link href="https://fonts.googleapis.com/css?family=Diplomata+SC|Fascinate+Inline|Fredericka+the+Great|Sirin+Stencil|Vast+Shadow" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="/css/animate.css">
  <link rel="stylesheet" href="/css/testAnimate.css">
</head>

<body ng-controller="MainController as main" >
  <header>
    <h1>Brews Near You</h1>
    <nav>
      <ul>
        <li ng-click="main.openHomePage()">home</li>
        <li ng-click="main.openBrewerySearch()">breweries</li>
        <li ng-click="main.openBeerSearch()">beers</li>
        <li ng-click="main.openLoginPage()">log in/profile</li>
      </ul>
    </nav>
  </header>

  <div class="spacing-head">

  </div>
  <!-- HOME PAGE -->
  <section ng-show="main.showHomePage">
    <h3>Welcome to the Home Page</h3>
    <h2 ng-click="main.openBrewerySearch()">Find A Brewery</h2>
    <img ng-click="main.openBrewerySearch()" src="http://calgarybuzz.com/wp-content/uploads/2016/01/shutterstock_brewery-984x500.jpg" alt="">
    <h2 ng-click="main.openBeerSearch()">Find A Beer</h2>
    <img ng-click="main.openBeerSearch()" src="http://fullthrottlebottles.com/images/beer-bottles.jpg" alt="">
    <h2 ng-click="main.openLoginPage()">Login</h2>
  </section>

  <!-- BREWERIES SEARCH-->
  <section ng-show="main.showBreweries" class="brewery-search" ng-controller="BreweryDBController as breweryCtrl">
    <div class=""  ng-show="main.showBrewerySearch">
      <div class="Search Menu">
        <h3>Search For A Brewery</h3>
        <form ng-submit=breweryCtrl.getBreweriesByZip(zipCode)>
          <input type="text" ng-model="zipCode" placeholder="Search by zip code">
          <input type="submit" name="" value="Search">
        </form>
      </div>
      <ul>
        <li class="items" ng-repeat="results in breweryCtrl.breweries">
          <h3 ng-click="main.openThisBrewery(results, breweryCtrl)">{{results.brewery.name}}<br></h3>
          <img ng-click="main.openThisBrewery(results, breweryCtrl)" ng-src="{{results.brewery.images.squareMedium}}" alt="{{results.brewery.name}}"/>
          <h4>{{results.streetAddress}}</h4>
          <h4>{{results.locality}}, {{results.region}} {{results.postalCode}}</h4>
        </li>
      </ul>
    </div>
    <!-- BREWERIES SHOW PAGE -->
    <section class="breweryShowSection" ng-show="main.showBreweryPage">
      <img ng-src="{{breweryCtrl.currentBrewery1.brewery.images.squareLarge}}" alt="">
      <h3>{{breweryCtrl.currentBrewery1.brewery.name}}</h3>
      <h3>{{breweryCtrl.currentBrewery1.streetAddress}}</h3>
      <h3>{{breweryCtrl.currentBrewery1.locality}}, {{breweryCtrl.currentBrewery1.region}} {{breweryCtrl.currentBrewery1.postalCode}}</h3>
      <h3>{{breweryCtrl.currentBrewery1.brewery.desription}}</h3>
      <h3><a href="{{breweryCtrl.currentBrewery1.website}}">{{breweryCtrl.currentBrewery1.website}}</a></h3>
      <h3>Phone Number: {{breweryCtrl.currentBrewery1.phone}}</h3>
      <button ng-click="main.openBrewerySearch()">Back to Breweries</button>
      <button ng-click="breweryCtrl.getBreweryLocation(breweryCtrl.currentBrewery1)">Show Direction</button>
    </section>
      <!-- show direction option : An Nguyen Added-->
    <section class="breweryShowSection" ng-show="breweryCtrl.showDirectionOption" ng-controller="BreweryMap as map">
      Start:<input type="text" placeholder="type your address" ng-model="breweryCtrl.startPoint">
      End:<input ng-show="breweryCtrl.showDirectionOption"type="text" ng-model="breweryCtrl.destination">
      <input ng-show="breweryCtrl.showDirectionOption"type="submit" value="submit" ng-click="breweryCtrl.setCurrentUserDirection() ; map.submit()">
    </section>
       <!-- End show map option  -->
    <section>
      <div  class='row' id='map-container'>
       <div id="map_panel" ></div>
       <div id="directions_panel"></div>
      </div>
      </div>
    </section>
  </section>

  <!-- BEER PAGE -->
  <section ng-show="main.showBeerPage">
    <ng-include src="'./partials/beers.html'"></ng-include>
  </section>
  <!-- LOGIN PAGE -->
  <section ng-show="main.showLoginForm" >

    <div ng-controller="UserController as userCtrl" >
  <div ng-show ="1">
    <div ng-show='userCtrl.showLoginForm'>
      <h3>Log In</h3>
      <form ng-submit='userCtrl.logIn()'>
        <input  ng-model ="userCtrl.userName" placeholder="username"><br>
        <input  ng-model ="userCtrl.password"  type='password' placeholder="password"><br>
        <input  type='submit' ng-click ="userCtrl.showLoginForm = !userCtrl.showLoginForm " name="login" value="Log in">
      </form>
    </div>
    <li ng-show="userCtrl.showLoginForm ">
      <a href="#" ng-click="userCtrl.resetLoginForm()">Register</a>
    </li>
    <div ng-show="userCtrl.showRegisterForm">
      <form ng-submit='userCtrl.addUser()'>
        <input  ng-model ="userCtrl.registerUserName" placeholder="user name"><br>
        <input  ng-model ="userCtrl.registerPassword" type='password'placeholder="password"><br>
        <input type='submit' ng-click ="userCtrl.resetRegisterForm()"name="register" value='Register'>
      </form>
    </div>
  </div>
      <div ng-show='userCtrl.showGreeting'>
        <ng-include src="'./partials/profile.html'"></ng-include>
      </div>
    </div>
  </section>
  <section>
</section>
<section class="footer">
  <footer>
    <!-- NEED TO STATE THAT WE ARE USING THE API -->
    <a href="https://www.breweryDB.com"><img src="http://s3.amazonaws.com/brewerydb/Powered-By-BreweryDB.png" alt=""></a>
  </footer>
</section>
</body>
</html>
